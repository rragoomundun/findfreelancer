import{a as w}from"./chunk-3NTXFC3E.js";import{a as F}from"./chunk-2B5LARV5.js";import{d as g,g as I,h as N,i as R,k as x,m as A,u as P}from"./chunk-754SWOLJ.js";import{Ac as K,Ba as _,Ec as Q,Hc as h,Jc as b,Lb as T,Oa as f,Qa as E,Qb as n,Rb as a,Ua as d,Va as o,Wa as s,Xa as m,Ya as L,Za as D,_a as M,aa as v,hb as G,jb as S,la as u,lc as J,ra as Y,sa as z,va as t,xb as l,xc as O,yb as C,zb as c}from"./chunk-LKU6W7PO.js";var X=()=>["false","error"];function Z(e,p){if(e&1&&(o(0,"small",10),l(1),n(2,"translate"),s(),m(3,"br")(4,"br")),e&2){let r=S();t(),C(a(2,1,r.registerError()))}}function ee(e,p){if(e&1&&(o(0,"button",8),l(1),n(2,"translate"),s()),e&2){let r=S();d("disabled",r.formGroup().invalid),t(),c(" ",a(2,2,"REGISTER_PAGE.REGISTER")," ")}}function te(e,p){e&1&&(o(0,"button",8),m(1,"span",11),l(2),n(3,"translate"),s()),e&2&&(d("disabled",!0),t(2),c(" ",a(3,2,"REGISTER_PAGE.REGISTRATION")," "))}function ie(e,p){e&1&&(o(0,"small",9),m(1,"span",12),l(2),n(3,"translate"),s()),e&2&&(t(2),c(" ",a(3,1,"REGISTER_PAGE.REGISTRATION_SUCCESSFUL")," "))}var B=class e{authService=v(w);formGroup=u(new N({firstName:new R("",[g.required]),lastName:new R("",[g.required]),email:new R("",[g.required]),password:new R("",[g.required]),passwordConfirmation:new R("",[g.required])}));formErrors=u({firstName:"",lastName:"",email:"",password:"",passwordConfirmation:""});registerError=u("");onRegister=u("false");resetFormErrors(){this.formErrors.set({firstName:"",lastName:"",email:"",password:"",passwordConfirmation:""})}onSubmit(){let p={firstName:this.formGroup().get("firstName")?.value,lastName:this.formGroup().get("lastName")?.value,email:this.formGroup().get("email")?.value,password:this.formGroup().get("password")?.value,passwordConfirmation:this.formGroup().get("passwordConfirmation")?.value};this.onRegister.set("true"),this.authService.register(p).subscribe({complete:()=>{this.onRegister.set("success"),this.resetFormErrors()},error:r=>{let{type:i}=r.error;this.onRegister.set("error"),i&&(i==="INVALID_PARAMETERS"?this.formErrors.set(r.error.error):(this.resetFormErrors(),this.registerError.set(`REGISTER_PAGE.ERRORS.${i}`)))}})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=_({type:e,selectors:[["app-register"]],decls:31,vars:45,consts:[[1,"card","app-auth-card"],[1,"card-body"],[1,"card-title","text-center"],[3,"submit","formGroup"],[1,"mb-3"],[3,"id","label","type","control","error"],[3,"innerHTML"],[1,"text-center"],[1,"btn","btn-primary",3,"disabled"],[1,"text-success"],[1,"text-danger"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"fa-regular","fa-circle-check"]],template:function(r,i){r&1&&(o(0,"div",0)(1,"div",1)(2,"h6",2),l(3),n(4,"translate"),s(),m(5,"hr"),o(6,"form",3),G("submit",function(){return i.onSubmit()}),o(7,"div",4),m(8,"app-input",5),n(9,"translate"),s(),o(10,"div",4),m(11,"app-input",5),n(12,"translate"),s(),o(13,"div",4),m(14,"app-input",5),n(15,"translate"),s(),o(16,"div",4),m(17,"app-input",5),n(18,"translate"),s(),o(19,"div",4),m(20,"app-input",5),n(21,"translate"),s(),o(22,"div",4),m(23,"small",6),n(24,"translate"),s(),o(25,"div",7)(26,"div",7),f(27,Z,5,3),f(28,ee,3,4,"button",8)(29,te,4,4,"button",8)(30,ie,4,3,"small",9),s()()()()()),r&2&&(t(3),c(" ",a(4,30,"REGISTER_PAGE.TITLE")," "),t(3),d("formGroup",i.formGroup()),t(2),d("id","this-first-name")("label",a(9,32,"GENERAL.FIRST_NAME"))("type","text")("control","firstName")("error",i.formErrors().firstName),t(3),d("id","this-last-name")("label",a(12,34,"GENERAL.LAST_NAME"))("type","text")("control","lastName")("error",i.formErrors().lastName),t(3),d("id","this-email")("label",a(15,36,"GENERAL.EMAIL"))("type","email")("control","email")("error",i.formErrors().email),t(3),d("id","this-password")("label",a(18,38,"GENERAL.PASSWORD"))("type","password")("control","password")("error",i.formErrors().password),t(3),d("id","this-password-confirmation")("label",a(21,40,"GENERAL.PASSWORD_CONFIRMATION"))("type","password")("control","passwordConfirmation")("error",i.formErrors().passwordConfirmation),t(3),d("innerHTML",a(24,42,"REGISTER_PAGE.TERMS"),z),t(4),E(i.onRegister()==="error"?27:-1),t(),E(T(44,X).includes(i.onRegister())?28:i.onRegister()==="true"?29:30))},dependencies:[b,P,x,I,A,F,h],encapsulation:2})};function re(e,p){e&1&&(M(0,"span",5),L(1,"p"),l(2),n(3,"translate"),D()),e&2&&(t(2),C(a(3,1,"REGISTER_CONFIRM_PAGE.CONFIRMING")))}function oe(e,p){e&1&&(L(0,"small",3),M(1,"span",6),l(2),n(3,"translate"),D()),e&2&&(t(2),c(" ",a(3,1,"REGISTER_CONFIRM_PAGE.ERROR")," "))}function ne(e,p){e&1&&(L(0,"small",4),M(1,"span",7),l(2),n(3,"translate"),D()),e&2&&(t(2),c(" ",a(3,1,"REGISTER_CONFIRM_PAGE.SUCCESS")," "))}var H=class e{authService=v(w);activatedRoute=v(O);platformId=v(Y);onRegisterConfirm=u("true");ngOnInit(){if(J(this.platformId)){let{confirmationToken:p}=this.activatedRoute.snapshot.params;this.authService.registerConfirm(p).subscribe({complete:()=>{this.onRegisterConfirm.set("success"),setTimeout(()=>window.location.href=window.location.origin,3e3)},error:()=>this.onRegisterConfirm.set("error")})}}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=_({type:e,selectors:[["app-register-confirm"]],decls:9,vars:4,consts:[[1,"card","app-auth-card"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-danger"],[1,"text-success"],[1,"fa-solid","fa-spinner","fa-spin","fa-2x"],[1,"fa-regular","fa-circle-xmark"],[1,"fa-regular","fa-circle-check"]],template:function(r,i){r&1&&(L(0,"div",0)(1,"div",1)(2,"h6",2),l(3),n(4,"translate"),D(),M(5,"hr"),f(6,re,4,3)(7,oe,4,3,"small",3)(8,ne,4,3,"small",4),D()()),r&2&&(t(3),c(" ",a(4,2,"REGISTER_CONFIRM_PAGE.TITLE")," "),t(3),E(i.onRegisterConfirm()==="true"?6:i.onRegisterConfirm()==="error"?7:i.onRegisterConfirm()==="success"?8:-1))},dependencies:[b,h],encapsulation:2,changeDetection:0})};var ae=()=>["false","error"];function se(e,p){if(e&1&&(o(0,"small",10),l(1),n(2,"translate"),s(),m(3,"br")(4,"br")),e&2){let r=S();t(),C(a(2,1,r.loginError()))}}function pe(e,p){if(e&1&&(o(0,"button",9),l(1),n(2,"translate"),s()),e&2){let r=S();d("disabled",r.formGroup().invalid),t(),c(" ",a(2,2,"GENERAL.LOGIN")," ")}}function me(e,p){e&1&&(o(0,"button",9),m(1,"span",11),l(2),n(3,"translate"),s()),e&2&&(d("disabled",!0),t(2),c(" ",a(3,2,"LOGIN_PAGE.LOGIN...")," "))}var q=class e{authService=v(w);formGroup=u(new N({email:new R("",[g.required]),password:new R("",[g.required])}));formErrors=u({email:"",password:""});loginError=u("");onLogin=u("false");resetFormErrors(){this.formErrors.set({email:"",password:""})}onSubmit(){let p={email:this.formGroup().get("email")?.value,password:this.formGroup().get("password")?.value};this.onLogin.set("true"),this.authService.login(p).subscribe({complete:()=>{this.onLogin.set("success"),this.resetFormErrors(),window.location.href=window.location.origin},error:r=>{let{type:i}=r.error;this.onLogin.set("error"),i&&(i==="INVALID_PARAMETERS"?this.formErrors.set(r.error.error):(this.resetFormErrors(),this.loginError.set(`LOGIN_PAGE.ERRORS.${i}`)))}})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=_({type:e,selectors:[["app-login"]],decls:21,vars:24,consts:[[1,"card","app-auth-card"],[1,"card-body"],[1,"card-title","text-center"],[3,"submit","formGroup"],[1,"mb-3"],[3,"id","label","type","control","error"],[1,"text-end","mb-3"],["routerLink","/auth/password/forgotten"],[1,"text-center"],[1,"btn","btn-primary",3,"disabled"],[1,"text-danger"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(r,i){r&1&&(o(0,"div",0)(1,"div",1)(2,"h6",2),l(3),n(4,"translate"),s(),m(5,"hr"),o(6,"form",3),G("submit",function(){return i.onSubmit()}),o(7,"div",4),m(8,"app-input",5),n(9,"translate"),s(),o(10,"div",4),m(11,"app-input",5),n(12,"translate"),s(),o(13,"div",6)(14,"a",7),l(15),n(16,"translate"),s()(),o(17,"div",8),f(18,se,5,3),f(19,pe,3,4,"button",9)(20,me,4,4,"button",9),s()()()()),r&2&&(t(3),c(" ",a(4,15,"LOGIN_PAGE.TITLE")," "),t(3),d("formGroup",i.formGroup()),t(2),d("id","this-email")("label",a(9,17,"GENERAL.EMAIL"))("type","email")("control","email")("error",i.formErrors().email),t(3),d("id","this-password")("label",a(12,19,"GENERAL.PASSWORD"))("type","password")("control","password")("error",i.formErrors().password),t(4),c(" ",a(16,21,"LOGIN_PAGE.PASSWORD_FORGOTTEN")," "),t(3),E(i.onLogin()==="error"?18:-1),t(),E(T(23,ae).includes(i.onLogin())?19:i.onLogin()==="true"?20:-1))},dependencies:[b,P,x,I,A,Q,K,F,h],encapsulation:2,changeDetection:0})};var le=()=>["false","error"];function de(e,p){if(e&1&&(o(0,"small",9),l(1),n(2,"translate"),s(),m(3,"br")(4,"br")),e&2){let r=S();t(),c(" ",a(2,1,r.passwordForgottenError())," ")}}function ce(e,p){if(e&1&&(o(0,"button",7),l(1),n(2,"translate"),s()),e&2){let r=S();d("disabled",r.formGroup().invalid),t(),c(" ",a(2,2,"GENERAL.SUBMIT")," ")}}function ue(e,p){e&1&&(o(0,"button",7),m(1,"span",10),l(2),n(3,"translate"),s()),e&2&&(d("disabled",!0),t(2),c(" ",a(3,2,"GENERAL.SUBMITTING")," "))}function fe(e,p){e&1&&(o(0,"small",8),m(1,"span",11),l(2),n(3,"translate"),s()),e&2&&(t(2),c(" ",a(3,1,"PASSWORD_FORGOTTEN_PAGE.SUCCESS")," "))}var U=class e{authService=v(w);formGroup=u(new N({email:new R("",[g.required])}));formErrors=u({email:""});onForget=u("false");passwordForgottenError=u("");onSubmit(){let p={email:this.formGroup().get("email")?.value};this.onForget.set("true"),this.authService.passwordForgotten(p).subscribe({complete:()=>{this.onForget.set("success"),this.formErrors.set({email:""})},error:r=>{let{type:i}=r.error;this.onForget.set("error"),i&&(i==="INVALID_PARAMETERS"?(this.formErrors.set(r.error.error),this.passwordForgottenError.set("")):(this.formErrors.set({email:""}),this.passwordForgottenError.set(`PASSWORD_FORGOTTEN_PAGE.ERRORS.${i}`)))}})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=_({type:e,selectors:[["app-password-forgotten"]],decls:18,vars:17,consts:[[1,"card","app-auth-card"],[1,"card-body"],[1,"card-title","text-center"],[3,"submit","formGroup"],[1,"mb-3"],[3,"id","label","type","control","error"],[1,"text-center"],[1,"btn","btn-primary",3,"disabled"],[1,"text-success"],[1,"text-danger"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"fa-regular","fa-circle-check"]],template:function(r,i){r&1&&(o(0,"div",0)(1,"div",1)(2,"h6",2),l(3),n(4,"translate"),s(),m(5,"hr"),o(6,"form",3),G("submit",function(){return i.onSubmit()}),o(7,"p"),l(8),n(9,"translate"),s(),o(10,"div",4),m(11,"app-input",5),n(12,"translate"),s(),o(13,"div",6),f(14,de,5,3),f(15,ce,3,4,"button",7)(16,ue,4,4,"button",7)(17,fe,4,3,"small",8),s()()()()),r&2&&(t(3),c(" ",a(4,10,"PASSWORD_FORGOTTEN_PAGE.TITLE")," "),t(3),d("formGroup",i.formGroup()),t(2),C(a(9,12,"PASSWORD_FORGOTTEN_PAGE.ENTER_EMAIL")),t(3),d("id","this-email")("label",a(12,14,"GENERAL.EMAIL"))("type","email")("control","email")("error",i.formErrors().email),t(3),E(i.passwordForgottenError()?14:-1),t(),E(T(16,le).includes(i.onForget())?15:i.onForget()==="true"?16:17))},dependencies:[b,P,x,I,A,F,h],encapsulation:2,changeDetection:0})};var Ee=()=>["false","error"];function ge(e,p){if(e&1&&(o(0,"small",9),l(1),n(2,"translate"),s(),m(3,"br")(4,"br")),e&2){let r=S();t(),c(" ",a(2,1,r.resetPasswordError())," ")}}function Re(e,p){if(e&1&&(o(0,"button",7),l(1),n(2,"translate"),s()),e&2){let r=S();d("disabled",r.formGroup().invalid),t(),c(" ",a(2,2,"GENERAL.MODIFY")," ")}}function ve(e,p){e&1&&(o(0,"button",7),m(1,"span",10),l(2),n(3,"translate"),s()),e&2&&(d("disabled",!0),t(2),c(" ",a(3,2,"GENERAL.MODIFYING")," "))}function Se(e,p){e&1&&(o(0,"small",8),m(1,"span",11),l(2),n(3,"translate"),s()),e&2&&(t(2),c(" ",a(3,1,"RESET_PASSWORD_PAGE.SUCCESS")," "))}var j=class e{activatedRoute=v(O);authService=v(w);formGroup=u(new N({password:new R("",[g.required]),passwordConfirmation:new R("",[g.required])}));formErrors=u({password:"",passwordConfirmation:""});onReset=u("false");resetPasswordError=u("");resetFormErrors(){this.formErrors.set({password:"",passwordConfirmation:""})}onSubmit(){let{resetPasswordToken:p}=this.activatedRoute.snapshot.params,r={password:this.formGroup().get("password")?.value,passwordConfirmation:this.formGroup().get("passwordConfirmation")?.value};this.onReset.set("true"),this.authService.resetPassword(p,r).subscribe({complete:()=>{this.onReset.set("success"),this.resetFormErrors(),setTimeout(()=>window.location.href=window.location.origin,3e3)},error:i=>{let{type:y}=i.error;this.onReset.set("error"),y&&(y==="INVALID_PARAMETERS"?(this.formErrors.set(i.error.error),this.resetPasswordError.set("")):(this.resetFormErrors(),this.resetPasswordError.set(`RESET_PASSWORD_PAGE.ERRORS.${y}`)))}})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=_({type:e,selectors:[["app-reset-password"]],decls:18,vars:21,consts:[[1,"card","app-auth-card"],[1,"card-body"],[1,"card-title","text-center"],[3,"submit","formGroup"],[1,"mb-3"],[3,"id","label","type","control","error"],[1,"text-center"],[1,"btn","btn-primary",3,"disabled"],[1,"text-success"],[1,"text-danger"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"fa-regular","fa-circle-check"]],template:function(r,i){r&1&&(o(0,"div",0)(1,"div",1)(2,"h6",2),l(3),n(4,"translate"),s(),m(5,"hr"),o(6,"form",3),G("submit",function(){return i.onSubmit()}),o(7,"div",4),m(8,"app-input",5),n(9,"translate"),s(),o(10,"div",4),m(11,"app-input",5),n(12,"translate"),s(),o(13,"div",6),f(14,ge,5,3),f(15,Re,3,4,"button",7)(16,ve,4,4,"button",7)(17,Se,4,3,"small",8),s()()()()),r&2&&(t(3),c(" ",a(4,14,"RESET_PASSWORD_PAGE.TITLE")," "),t(3),d("formGroup",i.formGroup()),t(2),d("id","this-password")("label",a(9,16,"GENERAL.PASSWORD"))("type","password")("control","password")("error",i.formErrors().password),t(3),d("id","this-confirm-password")("label",a(12,18,"GENERAL.PASSWORD_CONFIRMATION"))("type","password")("control","passwordConfirmation")("error",i.formErrors().passwordConfirmation),t(3),E(i.resetPasswordError()?14:-1),t(),E(T(20,Ee).includes(i.onReset())?15:i.onReset()==="true"?16:17))},dependencies:[b,P,x,I,A,F,h],encapsulation:2,changeDetection:0})};var ft=[{path:"register",component:B,data:{title:"REGISTER_PAGE.TITLE"}},{path:"register/confirm/:confirmationToken",component:H,data:{title:"REGISTER_CONFIRM_PAGE.TITLE"}},{path:"login",component:q,data:{title:"LOGIN_PAGE.TITLE"}},{path:"password",children:[{path:"forgotten",component:U,data:{title:"PASSWORD_FORGOTTEN_PAGE.TITLE"}},{path:"reset/:resetPasswordToken",component:j,data:{title:"RESET_PASSWORD_PAGE.TITLE"}}]}];export{ft as authRoutes};
